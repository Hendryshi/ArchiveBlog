<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Write My First Game: MineSweeper - Hexo</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Hexo"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hexo"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="This is my first game developed by C# WinForm platform. The initial object is to practice my C# level. So the first game jump into my mind is “MineSweeper”. It is enough simple and interesting. In thi"><meta property="og:type" content="blog"><meta property="og:title" content="Write My First Game: MineSweeper"><meta property="og:url" content="http://yoursite.com/2020/05/01/Write-My-First-Game-MineSweeper/"><meta property="og:site_name" content="Hexo"><meta property="og:description" content="This is my first game developed by C# WinForm platform. The initial object is to practice my C# level. So the first game jump into my mind is “MineSweeper”. It is enough simple and interesting. In thi"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://yoursite.com/2020/05/01/Write-My-First-Game-MineSweeper/cover.png"><meta property="article:published_time" content="2020-04-30T22:00:00.000Z"><meta property="article:modified_time" content="2021-03-16T21:13:06.452Z"><meta property="article:author" content="Yejia SHI"><meta property="article:tag" content="C#"><meta property="article:tag" content="WinForm"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/2020/05/01/Write-My-First-Game-MineSweeper/cover.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com/2020/05/01/Write-My-First-Game-MineSweeper/"},"headline":"Write My First Game: MineSweeper","image":["http://yoursite.com/2020/05/01/Write-My-First-Game-MineSweeper/cover.png"],"datePublished":"2020-04-30T22:00:00.000Z","dateModified":"2021-03-16T21:13:06.452Z","author":{"@type":"Person","name":"Yejia SHI"},"description":"This is my first game developed by C# WinForm platform. The initial object is to practice my C# level. So the first game jump into my mind is “MineSweeper”. It is enough simple and interesting. In thi"}</script><link rel="canonical" href="http://yoursite.com/2020/05/01/Write-My-First-Game-MineSweeper/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Hendryshi/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal"><i class="fas fa-angle-double-right"></i>Write My First Game: MineSweeper</h1><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><i class="far fa-calendar-alt"> </i><time dateTime="${date_xml(page.date)}" title="${date_xml(page.date)}">2020-05-01</time></span><span class="level-item is-hidden-mobile"><i class="far fa-calendar-check"> </i><time dateTime="${date_xml(page.updated)}" title="${date_xml(page.updated)}">2021-03-16</time></span><span class="level-item"><i class="far fa-folder-open has-text-grey"></i> <a class="link-muted" href="/categories/NET/">.NET</a></span><span class="level-item"><i class="far fa-clock"></i> 16 minutes read (About 2432 words)</span><span class="level-item" id="busuanzi_container_page_pv"><i class="far fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv">0</span>&nbsp;visits</span></div></div><div class="content"><p>This is my first game developed by C# WinForm platform. The initial object is to practice my C# level. So the first game jump into my mind is “MineSweeper”. It is enough simple and interesting. In this post I will list my conception and some difficult point during my development.</p>
<p><strong>To see my <a target="_blank" rel="noopener" href="https://github.com/Hendryshi/MineSweeper">MineSweeper project</a> in github.</strong></p>
<p><strong>See also <a target="_blank" rel="noopener" href="http://www.freeminesweeper.org/help/minehelpinstructions.html">the rule for mineSweeper</a></strong></p>
<span id="more"></span>

<h1 id="Class-Conception"><a href="#Class-Conception" class="headerlink" title="Class Conception"></a>Class Conception</h1><!-- classDiagram
class Game{
    +Square[ , ] squares
    +gameLevel
    +isStart
    +OpenSingleSq()
    +OpenAroundSq()
    +CheckWinLose()
}
class Square{
    +status
    +value
    +position
    +GetAroundSquare()
    +AddRemoveFlag()
}
class Frame{
    +Bitmap bufferMainFrame
    +private Bitmap bufferInfoFrame
    +private Bitmap bufferMineFrame
    +DrawMainFrame()
    +DrawMineFrame()
}
Game *-- Square
Game *-- Frame -->


<p><img src="class.png" alt=""></p>
<p>In this application three main objects are used in models:</p>
<ul>
<li><p>Class <code>Game</code> presents one game, every time when we create or restart a new game, this class is created. Trough this class we have the proprieties like <code>gameResults</code>, <code>flagCounts</code> and <code>gameLevel</code>.</p>
</li>
<li><p>Class <code>Square</code> presents every single squares on the board, it is applied to a two-dimension array in class <code>Game</code>. In this class, we have the proprieties like the value of square (-1 for mined, and [0-9] for others), the position in the boards. Also I use an enumeration `` to define the status of square(open, close, flagged…)</p>
</li>
<li><p>Class <code>Frame</code> presents the board on the interface. this class takes charges of the drawing function. Every drawing function return a temporary bitmap picture in the backend, and the front interface cover this bitmap to itself.</p>
</li>
</ul>
<h1 id="Program-process"><a href="#Program-process" class="headerlink" title="Program process"></a>Program process</h1>  <!-- graph LR
  A(MouseDown)
  B{Left, Right or Both}
  C(MouseClick)
  D[Add flag]
  E(Open single square)
  F{Hit Mine or Win}
  G([Lose])
  H(MouseUp)
  I(Open around square)
  J([Win])
  style E fill: #FFF333
  style I fill: #FFF333
  style B fill: #9999FF
  style F fill: #9999FF -->

<p><img src="process.png" alt=""></p>
<p>As described as above, every time when we click the mouse, the program enter into different functions defined in object <code>Game</code> according to the different mouse event (left click, right click or both click). And at the end of every function, we call the function drawing in <code>Frame</code> to refresh our frontend interface.</p>
<h1 id="Some-focal-points-in-my-development"><a href="#Some-focal-points-in-my-development" class="headerlink" title="Some focal points in my development"></a>Some focal points in my development</h1><h2 id="Different-mouse-events"><a href="#Different-mouse-events" class="headerlink" title="Different mouse events"></a>Different mouse events</h2><p>In the program, I use many different mouse events. I’d like to list as below by raising order. You can find the completely mouse events definitions <a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/dotnet/framework/winforms/mouse-events-in-windows-forms"><strong>here</strong></a>.</p>
<p>Note that in my program, I don’t know it’s which click are mouse down or up, I use two properties <code>leftDown</code> and <code>rightDown</code> to keep and record the status of my clicks.</p>
<ul>
<li><p><strong>MouseMove event</strong>: This function is raised when your mouse’s position are changed.</p>
<p>  I use this event to realize that when I keep holding my left click and moving on the board, all passing squares are pressed down.</p>
  <figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">pnlMine_MouseMove</span>(<span class="params"><span class="built_in">object</span> sender, MouseEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(game.InGameSize(e.Location) &amp;&amp; !game.Result.HasValue)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(leftDown)</span><br><span class="line">        &#123;</span><br><span class="line">            game.SetSquaresDown(e.Location, rightDown);</span><br><span class="line">            RefreshFrame();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>MouseDown event</strong>: This function is called when your mouse is clicked down</p>
<p>  I use this function to add flag if it’s the right click, also if left click, I will set the property <code>leftDown</code> to be true and use it in mouseUp function later.</p>
  <figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">pnlMine_MouseDown</span>(<span class="params"><span class="built_in">object</span> sender, MouseEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!game.Result.HasValue)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">switch</span>(e.Button)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> MouseButtons.Left:</span><br><span class="line">                leftDown = <span class="literal">true</span>;</span><br><span class="line">                game.SetSquaresDown(e.Location, rightDown);</span><br><span class="line">                game.ChangeFace(GameFace.MouthOpen);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> MouseButtons.Right:</span><br><span class="line">                rightDown = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">if</span>(!leftDown)</span><br><span class="line">                    game.AddRemoveFlag(e.Location);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(leftDown &amp;&amp; rightDown &amp;&amp; game.InGameSize(e.Location))</span><br><span class="line">            game.SetSquaresDown(e.Location, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        RefreshFrame();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>MouseClick event</strong>: This function is called after function MouseDown</p>
<p>  This function is the most common mouse event, I use it to open a single square if it’s left click.</p>
  <figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">pnlMine_MouseClick</span>(<span class="params"><span class="built_in">object</span> sender, MouseEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(e.Button == MouseButtons.Left &amp;&amp; (!leftDown || !rightDown) &amp;&amp; game.InGameSize(e.Location) &amp;&amp; !game.Result.HasValue)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!game.IsStart)</span><br><span class="line">        &#123;</span><br><span class="line">            game.StartGame(e.Location);</span><br><span class="line">            threadTimer.Change(<span class="number">0</span>, <span class="number">1000</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        game.OpenSingleSquare(e.Location);</span><br><span class="line">        RefreshFrame();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><strong>MouseUp event</strong>: This function is called the moment when your mouse is click up (the position of click up). </p>
<p>  I use this function to open around squares if it’s both click (leftDown &amp;&amp; rightDown)</p>
  <figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">pnlMine_MouseUp</span>(<span class="params"><span class="built_in">object</span> sender, MouseEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!game.Result.HasValue)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(leftDown &amp;&amp; rightDown &amp;&amp; game.InGameSize(e.Location))</span><br><span class="line">            game.OpenAroundSquares(e.Location);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span>(e.Button)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> MouseButtons.Left:</span><br><span class="line">                leftDown = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> MouseButtons.Right:</span><br><span class="line">                rightDown = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        game.SetAllSquaresUp();</span><br><span class="line">        game.ChangeFace(GameFace.SmileUp);</span><br><span class="line">        RefreshFrame();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="The-drawing-jobs"><a href="#The-drawing-jobs" class="headerlink" title="The drawing jobs"></a>The drawing jobs</h2><p>As this is my first winForm application, I know few about the <a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/windows/win32/gdiplus/-gdiplus-gdi-start"><strong>windows GDI+ technology</strong></a>, fortunately the drawing functions I use in my application is simple enough. </p>
<ul>
<li><p><strong>Create the frame</strong>:</p>
<p>  <img src="frame.png" alt=""></p>
<p>  When the game is started, the first thing we do is to create the entire frame, To realize that, I created three empty bitmap as temporary buffer image (one for info panel, one for mine panel, and one for main panel) in the frame object. They all have the same size as the frontend frame</p>
  <figure class="highlight csharp"><figcaption><span>Create a new bitmap and initialize it by color Gray</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">bufferMainFrame = <span class="keyword">new</span> Bitmap(rctGameField.Width, rctGameField.Height);</span><br><span class="line">bufferInfoFrame = <span class="keyword">new</span> Bitmap(rctPnlInfo.Width, rctPnlInfo.Height);</span><br><span class="line">bufferTimerFrame = <span class="keyword">new</span> Bitmap(rctPnlTimer.Width, rctPnlTimer.Height);</span><br><span class="line">bufferMineFrame = <span class="keyword">new</span> Bitmap(rctPnlMine.Width, rctPnlMine.Height);</span><br><span class="line"></span><br><span class="line">Graphics.FromImage(bufferMainFrame).Clear(GRAY);</span><br><span class="line">Graphics.FromImage(bufferInfoFrame).Clear(GRAY);</span><br><span class="line">Graphics.FromImage(bufferTimerFrame).Clear(GRAY);</span><br><span class="line">Graphics.FromImage(bufferMineFrame).Clear(GRAY);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>The function <code>Graphics.FromImage(bufferMineFrame)</code> can get the brush of this image.<br>The function <code>Graphics.Clear(GRAY)</code> can clear a picture by a specified color (Gray in here).</p>
</blockquote>
</li>
</ul>
<ul>
<li><p><strong>Draw the squares</strong>:</p>
<p>  In the game, you need to open squares with different value. According to the different value of square, you need to draw different image on the specified position of the temporary image.</p>
  <figure class="highlight csharp"><figcaption><span>Function Draw Square</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Bitmap <span class="title">DrawSquare</span>(<span class="params">Square square</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Graphics g = Graphics.FromImage(bufferMineFrame);</span><br><span class="line">    <span class="built_in">int</span> srcY = (<span class="built_in">int</span>)square.Status + (square.Status == MineStatus.OpenedNumber ? (Square.MaxSquareNum - square.Value) * ImgMineUnitWidth : <span class="number">0</span>);</span><br><span class="line">    Rectangle mineRect = <span class="keyword">new</span> Rectangle(square.Location, <span class="keyword">new</span> Size(squareSize, squareSize));</span><br><span class="line">    Rectangle srcRect = <span class="keyword">new</span> Rectangle(<span class="keyword">new</span> Point(<span class="number">0</span>, srcY), <span class="keyword">new</span> Size(ImgMineUnitWidth, ImgMineUnitWidth));</span><br><span class="line"></span><br><span class="line">    GraphicsUnit units = GraphicsUnit.Pixel;</span><br><span class="line">    g.DrawImage(imgMine, mineRect, srcRect, units);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bufferMineFrame;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Function <a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/dotnet/api/system.drawing.graphics.drawimage?view=dotnet-plat-ext-3.1"><strong>Graphic.DrawImage</strong></a> can draw a specified image on the target frame.<br><code>imgMine</code> is your image that you choose to put on the target frame, <code>srcRect</code> is the part of your image (imgMine).</p>
</blockquote>
</li>
</ul>
<ul>
<li><p><strong>Refresh the square on the board</strong>:<br>  As some of you may ask why you have to draw on the temporary bitmap and cover it to the frontend interface ? why we cannot draw the image directly on the frontend board ?</p>
<blockquote>
<p>There are two reasons:<br>The first is that in my opinion the logic to draw and refresh the image are something in the backend, The frontend interface only call the function in the backend to refresh its frame.  </p>
<p>The second and more important reason is that if we draw the image directly in frontend frame, when many squares are updated in one time, every seconds the frame is being drawn, that will cause a blink effect. So we choose to draw all the squares in a temporary buffer picture and apply it to the frontend frame only one time. </p>
</blockquote>
  <figure class="highlight csharp"><figcaption><span>Function to apply the temporary image to the frontend frame</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">RefreshFrame</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pnlMine.CreateGraphics().DrawImage(game.GameFrame.MineFrame, ClientRectangle.Location);</span><br><span class="line">    pnlInfo.CreateGraphics().DrawImage(game.GameFrame.InfoFrame, ClientRectangle.Location);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="The-function-to-open-the-square"><a href="#The-function-to-open-the-square" class="headerlink" title="The function to open the square"></a>The function to open the square</h2><ul>
<li>There are two ways to open the squares, one is to left click a closed square, the around 8 squares need to open if the value equals to 0</li>
<li>The other is to both click an opened square, if it has the same count of flag around it as the value of this square, they need to be expanded also.</li>
<li>Both two ways need a recursive function</li>
</ul>
<figure class="highlight csharp"><figcaption><span>Recursive function</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">ExpandSquares</span>(<span class="params">Square sq</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">bool</span> noError = <span class="literal">true</span>;</span><br><span class="line">    List&lt;Square&gt; lstAroundSquare = sq.GetAroundSquare(squares, <span class="literal">false</span>, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span>(Square sqAround <span class="keyword">in</span> lstAroundSquare)</span><br><span class="line">    &#123;</span><br><span class="line">        noError &amp;= sqAround.OpenSquare();</span><br><span class="line">        gameFrame.DrawSquare(sqAround);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(sqAround.Value == <span class="number">0</span>)</span><br><span class="line">            noError &amp;= ExpandSquares(sqAround);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> noError;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight csharp"><figcaption><span>Function to get the around squares according different condition</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Square&gt; <span class="title">GetAroundSquare</span>(<span class="params">Square[,] squares, <span class="built_in">bool</span> excludeMine = <span class="literal">false</span>, <span class="built_in">bool</span> excludeOpen = <span class="literal">false</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> query = <span class="keyword">from</span> Square sq <span class="keyword">in</span> squares </span><br><span class="line">                <span class="keyword">where</span> sq.location.X &gt;= <span class="keyword">this</span>.location.X - squareSize &amp;&amp; sq.location.X &lt;= <span class="keyword">this</span>.location.X + squareSize</span><br><span class="line">                &amp;&amp; sq.location.Y &gt;= <span class="keyword">this</span>.location.Y - squareSize &amp;&amp; sq.location.Y &lt;= <span class="keyword">this</span>.location.Y + squareSize</span><br><span class="line">                &amp;&amp; sq.location != <span class="keyword">this</span>.location</span><br><span class="line">                <span class="keyword">select</span> sq;</span><br><span class="line">    <span class="keyword">if</span>(excludeMine)</span><br><span class="line">        query = query.ToList().Where(sq =&gt; !sq.IsMine());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(excludeOpen)</span><br><span class="line">        query = query.ToList().Where(sq =&gt; sq.IsClosed());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> query.ToList();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Yates-shuffle-Algorithm"><a href="#Yates-shuffle-Algorithm" class="headerlink" title="Yates shuffle Algorithm"></a>Yates shuffle Algorithm</h2><figure class="highlight csharp"><figcaption><span>Algorithm global</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="built_in">int</span> i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">    swap(arr[i], arr[rand() % (i+<span class="number">1</span>)])</span><br></pre></td></tr></table></figure>
<ul>
<li>At start of game, you need to set randomly the mines on the board. And set the value of each square according to the mine count around it.</li>
<li>In my application, I use the algorithm Yates shuffle to set my mines. I suppose that in my square array, the first k squares are mines (k is your mine count), and I switch my arr[i] square with a random(arr[0] ~ arr[i-1]) square. And do this for n times. (n is your total squares)</li>
<li>After you have set your mines, you need to parse all your mine, and set the value of around square = value + 1.</li>
<li>The difficulty is that the first click of a game cannot be a mine. So that change my algorithm. I can only set my mines and value of other squares after the first click on the board. Moreover, the click square should only be 0 so that it can expand a block of squares around it (the around square should not be mine). To solve this problem, I change my function as below</li>
</ul>
<figure class="highlight csharp"><figcaption><span>The function of Yates shuffle</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">KnuthShuffleMine</span>(<span class="params">Point point</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Random ran = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="built_in">int</span> indexX = point.X / squareSize;</span><br><span class="line">        <span class="built_in">int</span> indexY = point.Y / squareSize;</span><br><span class="line">        Square sqPoint = squares[indexX, indexY];</span><br><span class="line"></span><br><span class="line">        <span class="built_in">int</span> indexOffset = sqPoint.GetAroundMineCount(squares) + (sqPoint.IsMine() ? <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> y = <span class="number">0</span>; y &lt;= squares.GetLength(<span class="number">1</span>) - <span class="number">1</span>; y++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="built_in">int</span> x = <span class="number">0</span>; x &lt;= squares.GetLength(<span class="number">0</span>) - <span class="number">1</span>; x++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// this area cannot be mine</span></span><br><span class="line">                <span class="keyword">if</span>(x &gt;= indexX - <span class="number">1</span> &amp;&amp; x &lt;= indexX + <span class="number">1</span> &amp;&amp; y &gt;= indexY - <span class="number">1</span> &amp;&amp; y &lt;= indexY + <span class="number">1</span>)</span><br><span class="line">                    squares[x, y].Value = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    Point ranP = GetRandomPoint(ran, x, y, indexX, indexY);</span><br><span class="line">                    <span class="built_in">int</span> ranSquareValue = ranP.Y * squares.GetLength(<span class="number">0</span>) + ranP.X &lt; mineCount + indexOffset ? <span class="number">-1</span> : squares[ranP.X, ranP.Y].Value;</span><br><span class="line"></span><br><span class="line">                    <span class="built_in">int</span> <span class="keyword">value</span> = y * squares.GetLength(<span class="number">0</span>) + x &lt; mineCount + indexOffset ? <span class="number">-1</span> : squares[x, y].Value;</span><br><span class="line">                    squares[x, y].Value = ranSquareValue;</span><br><span class="line">                    squares[ranP.X, ranP.Y].Value = <span class="keyword">value</span>;</span><br><span class="line">                    gameFrame.DrawSquare(squares[x, y]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> queryMine = <span class="keyword">from</span> Square sq <span class="keyword">in</span> squares</span><br><span class="line">                        <span class="keyword">where</span> sq.IsMine()</span><br><span class="line">                        <span class="keyword">select</span> sq;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">foreach</span>(Square sq <span class="keyword">in</span> queryMine)</span><br><span class="line">        &#123;</span><br><span class="line">            List&lt;Square&gt; lstAroundSquare = sq.GetAroundSquare(squares, <span class="literal">true</span>);</span><br><span class="line">            <span class="keyword">foreach</span>(Square sqAround <span class="keyword">in</span> lstAroundSquare)</span><br><span class="line">            &#123;</span><br><span class="line">                sqAround.Value += <span class="number">1</span>;</span><br><span class="line">                gameFrame.DrawSquare(sqAround);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight csharp"><figcaption><span>The function to get random point</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> Point <span class="title">GetRandomPoint</span>(<span class="params">Random random, <span class="built_in">int</span> x, <span class="built_in">int</span> y, <span class="built_in">int</span> indexX, <span class="built_in">int</span> indexY</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">int</span> ranX;</span><br><span class="line">    <span class="built_in">int</span> ranY;</span><br><span class="line">    <span class="built_in">int</span> ranT;</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">        ranT = random.Next(y * squares.GetLength(<span class="number">0</span>) + x, squares.GetLength(<span class="number">0</span>) * squares.GetLength(<span class="number">1</span>) - <span class="number">1</span>);</span><br><span class="line">        ranX = ranT % squares.GetLength(<span class="number">0</span>);</span><br><span class="line">        ranY = ranT / squares.GetLength(<span class="number">0</span>);</span><br><span class="line">    &#125; <span class="keyword">while</span>(ranX &gt;= indexX - <span class="number">1</span> &amp;&amp; ranX &lt;= indexX + <span class="number">1</span> &amp;&amp; ranY &gt;= indexY - <span class="number">1</span> &amp;&amp; ranY &lt;= indexY + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Point(ranX, ranY);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>You can find more introduce for this algorithm <a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1462951"><strong>here</strong></a></p>
</blockquote>
<h2 id="ThreadTimer-function"><a href="#ThreadTimer-function" class="headerlink" title="ThreadTimer function"></a>ThreadTimer function</h2><p>Also, in my game I need a timer to record my scores, and the time should be changed every seconds in the frontend interface. In winForm application there are three methods to create a timer, here I use the <code>System.Threading.Timer</code>, as it create a different thread from the main tread, so it’s the most accurate timer comparing to the other two methods. </p>
<figure class="highlight csharp"><figcaption><span>When create a new game</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(threadTimer != <span class="literal">null</span>)</span><br><span class="line">    threadTimer.Dispose();</span><br><span class="line"></span><br><span class="line">threadTimer = <span class="keyword">new</span> System.Threading.Timer(<span class="keyword">new</span> TimerCallback(ChangeTime), <span class="literal">null</span>, Timeout.Infinite, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Function <code>new System.Threading.Timer(new TimerCallback(ChangeTime), null, Timeout.Infinite, 1000)</code> create a new instance of Timer object.<br>The parameter <code>new TimerCallback(ChangeTime)</code> is the function (in this case <code>ChangeTime</code>) raised every interval time.<br>The parameter <code>null</code> is your parameter of your raised function. In my function I have no parameter to parse, so it’s null.<br>The parameter <code>Timeout.Infinite</code> is the start time of your timer function. If you want to start the timer right now, you can set it to 0.<br>The last parameter is the interval of timer. In my case it’s 1000 mille seconds.</p>
</blockquote>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">MyInvoke</span>(<span class="params"></span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ChangeTime</span>(<span class="params"><span class="built_in">object</span> <span class="keyword">value</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!game.Result.HasValue)</span><br><span class="line">    &#123;</span><br><span class="line">        game.ChangeTime();</span><br><span class="line">        pnlTimer.CreateGraphics().DrawImage(game.GameFrame.TimerFrame, ClientRectangle.Location);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        threadTimer.Dispose();</span><br><span class="line">        <span class="keyword">if</span>(game.Result == <span class="literal">true</span> &amp;&amp; game.CheckBreakRecord())</span><br><span class="line">        &#123;</span><br><span class="line">            MyInvoke mi = <span class="keyword">new</span> MyInvoke(SetNewRecords);</span><br><span class="line">            BeginInvoke(mi);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>To note that, as the timer uses a different thread from the main thread, If you want to call/raise the controls in your main thread in this timer function, you need to create another Invoke and use your main thread’s controls in this Invoke, otherwise the program will raise an error.</p>
</blockquote>
<h2 id="Fix-and-center-my-form-size"><a href="#Fix-and-center-my-form-size" class="headerlink" title="Fix and center my form size"></a>Fix and center my form size</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.StartPosition = System.Windows.Forms.FormStartPosition.CenterScreen;</span><br><span class="line"><span class="keyword">this</span>.FormBorderStyle = System.Windows.Forms.FormBorderStyle.FixedSingle;</span><br><span class="line"><span class="keyword">this</span>.MaximizeBox = <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>

<article class="message is-info"><div class="message-body">
<p><strong>Note</strong>: </p>
<p>This code should be put in Form.Designer.cs</p>
</div></article>

<h2 id="Save-my-score-when-breaking-records"><a href="#Save-my-score-when-breaking-records" class="headerlink" title="Save my score when breaking records"></a>Save my score when breaking records</h2><p>To save my scores, I use the property of userSetting. The differences between userSetting and appSetting is that appSetting cannot be modified in the program, but with userSetting you can change it or load it in your program.</p>
<p>You need to define your all setting properties in your setting.cs file.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">SetNewRecords</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(level == GameLevel.Beginner)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.rankBegItem.Text = <span class="string">&quot;Beginner: &quot;</span> + game.TimeRecord;</span><br><span class="line">        Properties.Settings.Default[<span class="string">&quot;BegRecord&quot;</span>] = game.TimeRecord;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(level == GameLevel.Intermediate)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.rankInterItem.Text = <span class="string">&quot;Intermediate: &quot;</span> + game.TimeRecord;</span><br><span class="line">        Properties.Settings.Default[<span class="string">&quot;InterRecord&quot;</span>] = game.TimeRecord;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(level == GameLevel.Expert)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.rankExpertItem.Text = <span class="string">&quot;Expert: &quot;</span> + game.TimeRecord;</span><br><span class="line">        Properties.Settings.Default[<span class="string">&quot;ExpertRecord&quot;</span>] = game.TimeRecord;</span><br><span class="line">    &#125;</span><br><span class="line">    Properties.Settings.Default.Save();</span><br><span class="line">    MessageBox.Show(<span class="string">&quot;You have break a new records: &quot;</span> + game.TimeRecord);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>To load your setting property :<br><code>game.TimeRecord = Properties.Settings.Default[&quot;InterRecord&quot;]</code><br>To save your setting property :<br><code>Properties.Settings.Default[&quot;InterRecord&quot;] = game.TimeRecord;</code><br><code>Properties.Settings.Default.Save();</code></p>
</blockquote>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>This is my first game developed by C# winForm. At first I think that it’s easy to develop, but in fact I still met some difficulties and it took me about two weeks to finish it. Maybe in the future I would add some another features like music and animation effect to my application.</p>
</div><hr style="height:1px;margin:1rem 0"><div class="level is-mobile is-flex"><div class="article-tags is-size-7 is-uppercase"><i class="fas fa-tags has-text-grey"></i> <a class="link-muted" rel="tag" href="/tags/C/">C#, </a><a class="link-muted" rel="tag" href="/tags/WinForm/">WinForm </a></div></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/05/12/SQL-Server-Study-GROUPBY/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Some tips when using GROUP BY in SQL Server</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/04/04/Hexo-Tutorial/"><span class="level-item">Hexo Tutorial</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/profile.png" alt="YEJIA SHI"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">YEJIA SHI</p><p class="is-size-6 is-block">hendryshi@163.com</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Paris, France</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">11</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">6</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">14</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Hendryshi" target="_blank" rel="noopener">Follow</a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Class-Conception"><span class="level-left"><span class="level-item">1</span><span class="level-item">Class Conception</span></span></a></li><li><a class="level is-mobile" href="#Program-process"><span class="level-left"><span class="level-item">2</span><span class="level-item">Program process</span></span></a></li><li><a class="level is-mobile" href="#Some-focal-points-in-my-development"><span class="level-left"><span class="level-item">3</span><span class="level-item">Some focal points in my development</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Different-mouse-events"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">Different mouse events</span></span></a></li><li><a class="level is-mobile" href="#The-drawing-jobs"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">The drawing jobs</span></span></a></li><li><a class="level is-mobile" href="#The-function-to-open-the-square"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">The function to open the square</span></span></a></li><li><a class="level is-mobile" href="#Yates-shuffle-Algorithm"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">Yates shuffle Algorithm</span></span></a></li><li><a class="level is-mobile" href="#ThreadTimer-function"><span class="level-left"><span class="level-item">3.5</span><span class="level-item">ThreadTimer function</span></span></a></li><li><a class="level is-mobile" href="#Fix-and-center-my-form-size"><span class="level-left"><span class="level-item">3.6</span><span class="level-item">Fix and center my form size</span></span></a></li><li><a class="level is-mobile" href="#Save-my-score-when-breaking-records"><span class="level-left"><span class="level-item">3.7</span><span class="level-item">Save my score when breaking records</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Conclusion"><span class="level-left"><span class="level-item">4</span><span class="level-item">Conclusion</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a><p class="is-size-7"><span>&copy; 2022 Yejia SHI</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Visited by <span id="busuanzi_value_site_uv">0</span> users</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div><script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>