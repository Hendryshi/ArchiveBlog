<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Write My First Game: MineSweeper - Hexo</title><meta description="This is my first game developed by C# WinForm platform. The initial object is to practice my C# level. So the first game jump into my mind is “MineSweeper”. It is enough simple and interesting. In thi"><meta property="og:type" content="blog"><meta property="og:title" content="Write My First Game: MineSweeper"><meta property="og:url" content="http://yoursite.com/2020/05/01/Write-My-First-Game-MineSweeper/"><meta property="og:site_name" content="Hexo"><meta property="og:description" content="This is my first game developed by C# WinForm platform. The initial object is to practice my C# level. So the first game jump into my mind is “MineSweeper”. It is enough simple and interesting. In thi"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://yoursite.com/2020/05/01/Write-My-First-Game-MineSweeper/cover.png"><meta property="article:published_time" content="2020-04-30T22:00:00.000Z"><meta property="article:modified_time" content="2020-05-01T23:36:59.659Z"><meta property="article:author" content="Yejia SHI"><meta property="article:tag" content="C#"><meta property="article:tag" content="WinForm"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/2020/05/01/Write-My-First-Game-MineSweeper/cover.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com/2020/05/01/Write-My-First-Game-MineSweeper/"},"headline":"Hexo","image":["http://yoursite.com/2020/05/01/Write-My-First-Game-MineSweeper/cover.png"],"datePublished":"2020-04-30T22:00:00.000Z","dateModified":"2020-05-01T23:36:59.659Z","author":{"@type":"Person","name":"Yejia SHI"},"description":"This is my first game developed by C# WinForm platform. The initial object is to practice my C# level. So the first game jump into my mind is “MineSweeper”. It is enough simple and interesting. In thi"}</script><link rel="canonical" href="http://yoursite.com/2020/05/01/Write-My-First-Game-MineSweeper/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Hendryshi/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="thumbnail" src="/2020/05/01/Write-My-First-Game-MineSweeper/cover.png" alt="Write My First Game: MineSweeper"></span></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-30T22:00:00.000Z" title="2020-04-30T22:00:00.000Z">2020-05-01</time><span class="level-item"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/Develop/">Develop</a><span> / </span><a class="link-muted" href="/categories/Develop/Project/">Project</a></span><span class="level-item">14 minutes read (About 2096 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">Write My First Game: MineSweeper</h1><div class="content"><p>This is my first game developed by C# WinForm platform. The initial object is to practice my C# level. So the first game jump into my mind is “MineSweeper”. It is enough simple and interesting. In this post I will list my conception and some difficult point during my development.</p>
<a id="more"></a>

<p><strong>Welcome to see my <a href="https://github.com/Hendryshi/MineSweeper">project</a> in github.</strong></p>
<p><strong>See also <a href="http://www.freeminesweeper.org/help/minehelpinstructions.html">The rule for mineSweeper</a></strong></p>
<h1 id="Class-Conception"><a href="#Class-Conception" class="headerlink" title="Class Conception"></a>Class Conception</h1><!-- classDiagram
class Game{
    +Square[ , ] squares
    +gameLevel
    +isStart
    +OpenSingleSq()
    +OpenAroundSq()
    +CheckWinLose()
}
class Square{
    +status
    +value
    +position
    +GetAroundSquare()
    +AddRemoveFlag()
}
class Frame{
    +Bitmap bufferMainFrame
    +private Bitmap bufferInfoFrame
    +private Bitmap bufferMineFrame
    +DrawMainFrame()
    +DrawMineFrame()
}
Game *-- Square
Game *-- Frame -->


<p><img src="class.png" alt=""></p>
<p>I used globally three objects in models: </p>
<ul>
<li><p>Class <code>Game</code> presents one game, every time when we create or restart a new game, this class is recreated. Through this class we control the results of game, and some other properties like <code>flagCounts</code> or <code>gameLevel</code>.</p>
</li>
<li><p>Class <code>Square</code> presents every small square on the board, it is applied to a two-dimension array in class <code>Game</code>. In this class, I used an enumeration to define the status of square(open, close, flagged…). The value of squares (-1 for mined, and [0-9] for others), and position in the boards is also listed in this class.</p>
</li>
<li><p>Class <code>Frame</code> presents the board on the interface. I used this class to do every drawing function. every drawing function return a temporary bitmap picture for the mainForm to apply on the interface.</p>
</li>
</ul>
<h1 id="Program-process"><a href="#Program-process" class="headerlink" title="Program process"></a>Program process</h1><!--  
  graph LR

  A(MouseDown)
  B{L, R or Two}
  C(MouseClick)
  D[Add flag]
  E(Open Square)
  F{Hit Mine or Win}
  G([Lose])
  H(MouseUp)
  I(Open around square)
  J([Win])
  style E fill: #FFF333
  style I fill: #FFF333
  style B fill: #9999FF
  style F fill: #9999FF
-->
<p><img src="process.png" alt=""></p>
<p>As described above, every time we click our mouse, the program enter into different operation defined in object <code>Game</code> according to different mouse event (left click, right click or both click). And at the end of every function, we use the object <code>Frame</code> to redraw the board and reflect to the interface.</p>
<h1 id="Some-focal-points-in-my-development"><a href="#Some-focal-points-in-my-development" class="headerlink" title="Some focal points in my development"></a>Some focal points in my development</h1><h2 id="Different-mouse-events"><a href="#Different-mouse-events" class="headerlink" title="Different mouse events"></a>Different mouse events</h2><p>In the program, I use many different mouse events. I’d like to list as below by calling order. Note that to save the status of my left click and right click, I use two properties <code>leftDown</code> and <code>rightDown</code> in my object winForm.</p>
<ul>
<li><p><strong>MouseMove event</strong>: This function is called when your mouse are moving </p>
<ul>
<li>As I want to realise that if I hold clicking my left mouse and when moving through the board, all the squares will change their status (like a button is pressed), this event is called. <figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">pnlMine_MouseMove</span>(<span class="params"><span class="keyword">object</span> sender, MouseEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(game.InGameSize(e.Location) &amp;&amp; !game.Result.HasValue)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(leftDown)</span><br><span class="line">        &#123;</span><br><span class="line">            game.SetSquaresDown(e.Location, rightDown);</span><br><span class="line">            RefreshFrame();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>MouseDown event</strong>: This function is called when your mouse is click down</p>
<ul>
<li><p>I use this function to add my flag if it’s the right click, also if left click, I will set the property <code>leftDown</code> to be true and use it in mouseUp function.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">pnlMine_MouseDown</span>(<span class="params"><span class="keyword">object</span> sender, MouseEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!game.Result.HasValue)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">switch</span>(e.Button)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> MouseButtons.Left:</span><br><span class="line">                leftDown = <span class="literal">true</span>;</span><br><span class="line">                game.SetSquaresDown(e.Location, rightDown);</span><br><span class="line">                game.ChangeFace(GameFace.MouthOpen);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> MouseButtons.Right:</span><br><span class="line">                rightDown = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">if</span>(!leftDown)</span><br><span class="line">                    game.AddRemoveFlag(e.Location);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(leftDown &amp;&amp; rightDown &amp;&amp; game.InGameSize(e.Location))</span><br><span class="line">            game.SetSquaresDown(e.Location, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        RefreshFrame();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>MouseClick event</strong>: This function is called after function MouseDown</p>
<ul>
<li><p>This function is the most common mouse event, I use it to open a single square if it’s left click.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">pnlMine_MouseClick</span>(<span class="params"><span class="keyword">object</span> sender, MouseEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(e.Button == MouseButtons.Left &amp;&amp; (!leftDown || !rightDown) &amp;&amp; game.InGameSize(e.Location) &amp;&amp; !game.Result.HasValue)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!game.IsStart)</span><br><span class="line">        &#123;</span><br><span class="line">            game.StartGame(e.Location);</span><br><span class="line">            threadTimer.Change(<span class="number">0</span>, <span class="number">1000</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        game.OpenSingleSquare(e.Location);</span><br><span class="line">        RefreshFrame();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>MouseUp event</strong>: This function is called the moment when your mouse is click up (the position of click up). </p>
<ul>
<li><p>I use this function to open around squares if it’s both click (leftDown &amp;&amp; rightDown)</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">pnlMine_MouseUp</span>(<span class="params"><span class="keyword">object</span> sender, MouseEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!game.Result.HasValue)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(leftDown &amp;&amp; rightDown &amp;&amp; game.InGameSize(e.Location))</span><br><span class="line">            game.OpenAroundSquares(e.Location);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span>(e.Button)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> MouseButtons.Left:</span><br><span class="line">                leftDown = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> MouseButtons.Right:</span><br><span class="line">                rightDown = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        game.SetAllSquaresUp();</span><br><span class="line">        game.ChangeFace(GameFace.SmileUp);</span><br><span class="line">        RefreshFrame();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="The-drawing-jobs"><a href="#The-drawing-jobs" class="headerlink" title="The drawing jobs"></a>The drawing jobs</h2><p>As this is my first winForm application, I know few about the windows GDI+ technology, however the drawing of my mainForm is simple enough. As for the mine panel and the information panel I just use the existing picture to cover on my board.</p>
<ul>
<li><p><strong>Create the frame</strong>:</p>
<p>  <img src="frame.png" alt=""></p>
<ul>
<li><p>When the game is started, the first thing we do is to create the entire frame, To realize that, I created three empty bitmap for the temporary buffer image (one for info panel, one for mine panel, and one for main panel) in the frame object.</p>
  <figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">bufferMainFrame = <span class="keyword">new</span> Bitmap(rctGameField.Width, rctGameField.Height);</span><br><span class="line">bufferInfoFrame = <span class="keyword">new</span> Bitmap(rctPnlInfo.Width, rctPnlInfo.Height);</span><br><span class="line">bufferTimerFrame = <span class="keyword">new</span> Bitmap(rctPnlTimer.Width, rctPnlTimer.Height);</span><br><span class="line">bufferMineFrame = <span class="keyword">new</span> Bitmap(rctPnlMine.Width, rctPnlMine.Height);</span><br><span class="line"></span><br><span class="line">Graphics.FromImage(bufferMainFrame).Clear(GRAY);</span><br><span class="line">Graphics.FromImage(bufferInfoFrame).Clear(GRAY);</span><br><span class="line">Graphics.FromImage(bufferTimerFrame).Clear(GRAY);</span><br><span class="line">Graphics.FromImage(bufferMineFrame).Clear(GRAY);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>Draw the squares</strong>:</p>
<ul>
<li><p>To draw the squares on the board, it’s simple, you just need to change the image on the right position of the board and draw it on your temporary bitmap. The more difficult one is drawing the main frame, as you need to calculate every position and style. Below is the function to draw the square.</p>
  <figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Bitmap <span class="title">DrawSquare</span>(<span class="params">Square square</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Graphics g = Graphics.FromImage(bufferMineFrame);</span><br><span class="line">    <span class="keyword">int</span> srcY = (<span class="keyword">int</span>)square.Status + (square.Status == MineStatus.OpenedNumber ? (Square.MaxSquareNum - square.Value) * ImgMineUnitWidth : <span class="number">0</span>);</span><br><span class="line">    Rectangle mineRect = <span class="keyword">new</span> Rectangle(square.Location, <span class="keyword">new</span> Size(squareSize, squareSize));</span><br><span class="line">    Rectangle srcRect = <span class="keyword">new</span> Rectangle(<span class="keyword">new</span> Point(<span class="number">0</span>, srcY), <span class="keyword">new</span> Size(ImgMineUnitWidth, ImgMineUnitWidth));</span><br><span class="line"></span><br><span class="line">    GraphicsUnit units = GraphicsUnit.Pixel;</span><br><span class="line">    g.DrawImage(imgMine, mineRect, srcRect, units);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bufferMineFrame;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>The <code>graphics</code> g is to get the pen of the image, and the function <code>g.DrawImage</code> is used to draw your image <code>imgMine</code>. Note that the parameter <code>srcRect</code> is the part of image you choose in your image <code>imgMine</code>.   </p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>Refresh the square on the board</strong>:</p>
<ul>
<li><p>As some of you may ask why you have to draw on the temporary bitmap and covering it to the real panel ? why we can’t draw the image directly in the real panel?</p>
</li>
<li><p>There are two reasons: the first is that in my opinion the logical to draw and refresh the image need to be done in the backend, not in the controls directly. And the second and more important reason is that if we draw the image directly in real panel, that will cause a flash effect when many squares are updated in one time. As it is drawn one by one, though the interval time is short, we will also see the flash and that’s not good. So we choose to draw all the squares in a temporary image and cover it to the real image only one time. </p>
  <figure class="highlight csharp"><figcaption><span>The function to covering the temporary image</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">RefreshFrame</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pnlMine.CreateGraphics().DrawImage(game.GameFrame.MineFrame, ClientRectangle.Location);</span><br><span class="line">    pnlInfo.CreateGraphics().DrawImage(game.GameFrame.InfoFrame, ClientRectangle.Location);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="The-function-to-open-the-square"><a href="#The-function-to-open-the-square" class="headerlink" title="The function to open the square"></a>The function to open the square</h2><ul>
<li>There are two options to open the squares, one is to left click a closed square, the other is to both click an opened square if the around squares are all flagged according to the value of this square (sqValue - flagArround = 0). These two options are both called a recursion function. The algorithm is if the value of square is 0, you should traverse the 8 around squares and do the same verification for the 8 squares. </li>
</ul>
<figure class="highlight csharp"><figcaption><span>The recursion function</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">bool</span> <span class="title">ExpandSquares</span>(<span class="params">Square sq</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">bool</span> noError = <span class="literal">true</span>;</span><br><span class="line">    List&lt;Square&gt; lstAroundSquare = sq.GetAroundSquare(squares, <span class="literal">false</span>, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span>(Square sqAround <span class="keyword">in</span> lstAroundSquare)</span><br><span class="line">    &#123;</span><br><span class="line">        noError &amp;= sqAround.OpenSquare();</span><br><span class="line">        gameFrame.DrawSquare(sqAround);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(sqAround.Value == <span class="number">0</span>)</span><br><span class="line">            noError &amp;= ExpandSquares(sqAround);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> noError;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight csharp"><figcaption><span>The function to get the around squares according different condition</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Square&gt; <span class="title">GetAroundSquare</span>(<span class="params">Square[,] squares, <span class="keyword">bool</span> excludeMine = <span class="literal">false</span>, <span class="keyword">bool</span> excludeOpen = <span class="literal">false</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> query = <span class="keyword">from</span> Square sq <span class="keyword">in</span> squares </span><br><span class="line">                <span class="keyword">where</span> sq.location.X &gt;= <span class="keyword">this</span>.location.X - squareSize &amp;&amp; sq.location.X &lt;= <span class="keyword">this</span>.location.X + squareSize</span><br><span class="line">                &amp;&amp; sq.location.Y &gt;= <span class="keyword">this</span>.location.Y - squareSize &amp;&amp; sq.location.Y &lt;= <span class="keyword">this</span>.location.Y + squareSize</span><br><span class="line">                &amp;&amp; sq.location != <span class="keyword">this</span>.location</span><br><span class="line">                <span class="keyword">select</span> sq;</span><br><span class="line">    <span class="keyword">if</span>(excludeMine)</span><br><span class="line">        query = query.ToList().Where(sq =&gt; !sq.IsMine());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(excludeOpen)</span><br><span class="line">        query = query.ToList().Where(sq =&gt; sq.IsClosed());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> query.ToList();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Yates-shuffle-Algorithm"><a href="#Yates-shuffle-Algorithm" class="headerlink" title="Yates shuffle Algorithm"></a>Yates shuffle Algorithm</h2><ul>
<li><p>This algorithm is to set the mines randomly in the board (99 mines of 480 squares). The theory of the algorithm is that I switch my two-dimension array to one dimension, and I suppose that the first 99 squares are mines. Then I do the boucle from the last one to the fist item. I switch the last item with randomly first n-1 items. Do it for n-1 times. </p>
</li>
<li><p>The difficulty is that the first click of a game can’t be a mine. So that change my algorithm. I cannot set my mine when creating my object Game, but should set all the mines after the first click on the board. Moreover, the click square should only be 0 and it can open a block of squares around it (the around square should not be mine). To solve this problem, I set the first 99 squares as mine when creating game object, and after the first click, I calculate how many mines around the first square (include itself), and add the number of mine to the squares after 99.</p>
  <figure class="highlight csharp"><figcaption><span>The function of Yates shuffle</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">KnuthShuffleMine</span>(<span class="params">Point point</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Random ran = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="keyword">int</span> indexX = point.X / squareSize;</span><br><span class="line">        <span class="keyword">int</span> indexY = point.Y / squareSize;</span><br><span class="line">        Square sqPoint = squares[indexX, indexY];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> indexOffset = sqPoint.GetAroundMineCount(squares) + (sqPoint.IsMine() ? <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> y = <span class="number">0</span>; y &lt;= squares.GetLength(<span class="number">1</span>) - <span class="number">1</span>; y++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> x = <span class="number">0</span>; x &lt;= squares.GetLength(<span class="number">0</span>) - <span class="number">1</span>; x++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// this area cannot be mine</span></span><br><span class="line">                <span class="keyword">if</span>(x &gt;= indexX - <span class="number">1</span> &amp;&amp; x &lt;= indexX + <span class="number">1</span> &amp;&amp; y &gt;= indexY - <span class="number">1</span> &amp;&amp; y &lt;= indexY + <span class="number">1</span>)</span><br><span class="line">                    squares[x, y].Value = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    Point ranP = GetRandomPoint(ran, x, y, indexX, indexY);</span><br><span class="line">                    <span class="keyword">int</span> ranSquareValue = ranP.Y * squares.GetLength(<span class="number">0</span>) + ranP.X &lt; mineCount + indexOffset ? <span class="number">-1</span> : squares[ranP.X, ranP.Y].Value;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">int</span> <span class="keyword">value</span> = y * squares.GetLength(<span class="number">0</span>) + x &lt; mineCount + indexOffset ? <span class="number">-1</span> : squares[x, y].Value;</span><br><span class="line">                    squares[x, y].Value = ranSquareValue;</span><br><span class="line">                    squares[ranP.X, ranP.Y].Value = <span class="keyword">value</span>;</span><br><span class="line">                    gameFrame.DrawSquare(squares[x, y]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> queryMine = <span class="keyword">from</span> Square sq <span class="keyword">in</span> squares</span><br><span class="line">                        <span class="keyword">where</span> sq.IsMine()</span><br><span class="line">                        <span class="keyword">select</span> sq;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">foreach</span>(Square sq <span class="keyword">in</span> queryMine)</span><br><span class="line">        &#123;</span><br><span class="line">            List&lt;Square&gt; lstAroundSquare = sq.GetAroundSquare(squares, <span class="literal">true</span>);</span><br><span class="line">            <span class="keyword">foreach</span>(Square sqAround <span class="keyword">in</span> lstAroundSquare)</span><br><span class="line">            &#123;</span><br><span class="line">                sqAround.Value += <span class="number">1</span>;</span><br><span class="line">                gameFrame.DrawSquare(sqAround);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

  <figure class="highlight csharp"><figcaption><span>The function to get random point</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> Point <span class="title">GetRandomPoint</span>(<span class="params">Random random, <span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> indexX, <span class="keyword">int</span> indexY</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ranX;</span><br><span class="line">    <span class="keyword">int</span> ranY;</span><br><span class="line">    <span class="keyword">int</span> ranT;</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">        ranT = random.Next(y * squares.GetLength(<span class="number">0</span>) + x, squares.GetLength(<span class="number">0</span>) * squares.GetLength(<span class="number">1</span>) - <span class="number">1</span>);</span><br><span class="line">        ranX = ranT % squares.GetLength(<span class="number">0</span>);</span><br><span class="line">        ranY = ranT / squares.GetLength(<span class="number">0</span>);</span><br><span class="line">    &#125; <span class="keyword">while</span>(ranX &gt;= indexX - <span class="number">1</span> &amp;&amp; ranX &lt;= indexX + <span class="number">1</span> &amp;&amp; ranY &gt;= indexY - <span class="number">1</span> &amp;&amp; ranY &lt;= indexY + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Point(ranX, ranY);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
</ul>
<h2 id="ThreadTimer-function"><a href="#ThreadTimer-function" class="headerlink" title="ThreadTimer function"></a>ThreadTimer function</h2><p>Also, in my game I need a timer to record my grades. And change the time on the panel every seconds. </p>
<figure class="highlight csharp"><figcaption><span>When create a new game</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(threadTimer != <span class="literal">null</span>)</span><br><span class="line">    threadTimer.Dispose();</span><br><span class="line"></span><br><span class="line">threadTimer = <span class="keyword">new</span> System.Threading.Timer(<span class="keyword">new</span> TimerCallback(ChangeTime), <span class="literal">null</span>, Timeout.Infinite, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ChangeTime</span>(<span class="params"><span class="keyword">object</span> <span class="keyword">value</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!game.Result.HasValue)</span><br><span class="line">    &#123;</span><br><span class="line">        game.ChangeTime();</span><br><span class="line">        pnlTimer.CreateGraphics().DrawImage(game.GameFrame.TimerFrame, ClientRectangle.Location);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        threadTimer.Dispose();</span><br><span class="line">        <span class="keyword">if</span>(game.Result == <span class="literal">true</span> &amp;&amp; game.CheckBreakRecord())</span><br><span class="line">        &#123;</span><br><span class="line">            MyInvoke mi = <span class="keyword">new</span> MyInvoke(SetNewRecords);</span><br><span class="line">            BeginInvoke(mi);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Save-my-grades-when-breaking-records"><a href="#Save-my-grades-when-breaking-records" class="headerlink" title="Save my grades when breaking records"></a>Save my grades when breaking records</h2><p>To save my grades (I can see it when reopening my game), I use the property of userSetting. It is different from appSetting. AppSetting cannot be modified in the program, but userSetting you can change it or load it in your program.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">SetNewRecords</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(level == GameLevel.Beginner)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.rankBegItem.Text = <span class="string">"Beginner: "</span> + game.TimeRecord;</span><br><span class="line">        Properties.Settings.Default[<span class="string">"BegRecord"</span>] = game.TimeRecord;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(level == GameLevel.Intermediate)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.rankInterItem.Text = <span class="string">"Intermediate: "</span> + game.TimeRecord;</span><br><span class="line">        Properties.Settings.Default[<span class="string">"InterRecord"</span>] = game.TimeRecord;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(level == GameLevel.Expert)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.rankExpertItem.Text = <span class="string">"Expert: "</span> + game.TimeRecord;</span><br><span class="line">        Properties.Settings.Default[<span class="string">"ExpertRecord"</span>] = game.TimeRecord;</span><br><span class="line">    &#125;</span><br><span class="line">    Properties.Settings.Default.Save();</span><br><span class="line">    MessageBox.Show(<span class="string">"You have break a new records: "</span> + game.TimeRecord);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>This is my first game developed by C# winForm. At first I think that it’s easy to develop, but in fact I was still meet some difficulties and it took me about two weeks to finish it. In the next time I would like to note the process to create the install package for this small application and make it possible to install in any computer.</p>
</div><div class="article-tags size-small is-uppercase mb-4"><i class="fas fa-tags has-text-grey"></i> <a class="link-muted mr-2" rel="tag" href="/tags/C/">C#</a><a class="link-muted mr-2" rel="tag" href="/tags/WinForm/">WinForm</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/04/04/Hexo-Tutorial/"><span class="level-item">Hexo Tutorial</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div class="content" id="valine-thread"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js"></script><script>new Valine({
            el: '#valine-thread' ,
            notify: false,
            verify: false,
            appId: 'iljdSA5Kui7rQY3PUmKi96gW-MdYXbMMI',
            appKey: '56dRbbA9La4dsb9nbJbr0XIS',
            placeholder: '',
            avatar: 'null',
            avatarForce: false,
            meta: ["nick","mail","link"],
            pageSize: 10,
            visitor: false,
            highlight: true,
            recordIP: false
        });</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="/img/profile.png" alt="YEJIA SHI"></figure><p class="title is-size-4 is-block line-height-inherit">YEJIA SHI</p><p class="is-size-6 is-block">Just thinking and writing</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>France</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">2</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">3</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">3</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Hendryshi" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Hendryshi"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Linkedin" href="https://fr.linkedin.com/in/yejia-shi-47a761172"><i class="fab fa-linkedin-in"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:hendryshi@163.com"><i class="fa fa-envelope"></i></a></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Develop/"><span class="level-start"><span class="level-item">Develop</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Develop/Project/"><span class="level-start"><span class="level-item">Project</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/Tutorial/"><span class="level-start"><span class="level-item">Tutorial</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="is-flex" href="#Class-Conception"><span class="mr-2">1</span><span>Class Conception</span></a></li><li><a class="is-flex" href="#Program-process"><span class="mr-2">2</span><span>Program process</span></a></li><li><a class="is-flex" href="#Some-focal-points-in-my-development"><span class="mr-2">3</span><span>Some focal points in my development</span></a><ul class="menu-list"><li><a class="is-flex" href="#Different-mouse-events"><span class="mr-2">3.1</span><span>Different mouse events</span></a></li><li><a class="is-flex" href="#The-drawing-jobs"><span class="mr-2">3.2</span><span>The drawing jobs</span></a></li><li><a class="is-flex" href="#The-function-to-open-the-square"><span class="mr-2">3.3</span><span>The function to open the square</span></a></li><li><a class="is-flex" href="#Yates-shuffle-Algorithm"><span class="mr-2">3.4</span><span>Yates shuffle Algorithm</span></a></li><li><a class="is-flex" href="#ThreadTimer-function"><span class="mr-2">3.5</span><span>ThreadTimer function</span></a></li><li><a class="is-flex" href="#Save-my-grades-when-breaking-records"><span class="mr-2">3.6</span><span>Save my grades when breaking records</span></a></li></ul></li><li><a class="is-flex" href="#Conclusion"><span class="mr-2">4</span><span>Conclusion</span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><a class="media-left" href="/2020/05/01/Write-My-First-Game-MineSweeper/"><p class="image is-64x64"><img class="thumbnail" src="/2020/05/01/Write-My-First-Game-MineSweeper/cover.png" alt="Write My First Game: MineSweeper"></p></a><div class="media-content size-small"><p><time dateTime="2020-04-30T22:00:00.000Z">2020-05-01</time></p><p class="title is-6"><a class="link-muted" href="/2020/05/01/Write-My-First-Game-MineSweeper/">Write My First Game: MineSweeper</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Develop/">Develop</a> / <a class="link-muted" href="/categories/Develop/Project/">Project</a></p></div></article><article class="media"><a class="media-left" href="/2020/04/04/Hexo-Tutorial/"><p class="image is-64x64"><img class="thumbnail" src="/thumbnails/imgDefault.jpg" alt="Hexo Tutorial"></p></a><div class="media-content size-small"><p><time dateTime="2020-04-03T22:00:00.000Z">2020-04-04</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/04/Hexo-Tutorial/">Hexo Tutorial</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Tutorial/">Tutorial</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C#</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WinForm/"><span class="tag">WinForm</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a><p class="size-small"><span>&copy; 2020 Yejia SHI</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div><script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://yoursite.com',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>